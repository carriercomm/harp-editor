extends main_layout

block append head
  title Harp Editor - Edit File

block body
  include _shared/nav

  .container(style="margin-top:15px;")
    .row.hb-status-bar
      .col-sm-9.hb-status-col
        span Editing Page 
        b= link(file)
      .col-sm-3.hb-status-col(style="border-left:1px solid #efefef;")
        a(href="#")
          i.fa.fa-plus.fa-fw(style="margin-right:6px")
          span Save Page

    form.container(action="/admin/publish", method="post")

      input(type="hidden", name="file", value="#{file}")
      .row
        .col-sm-12
          .form-group
            label Title
            input.form-control(name="title", value="#{getTitle(metaData)}")

      .row
        .col-sm-12
          .form-group
            label Layout
            select(name="layout").form-control
              each layout, key in layouts
                - if (metaData.layout == layout.value)
                  option(value="#{layout.value}", selected='selected')= layout.name
                - else
                  option(value="#{layout.value}")= layout.name
      .row
        .col-sm-12
          .form-group
            label Slug
            input.form-control(name="slug", value="#{fileToSlug(file)}")

      .row
        .col-sm-12
          .form-group
            label Page Content
            textarea.form-control(name="content", rows="24",style="white-space: pre-wrap") #{contents}
          button.btn.btn-primary.pull-right Save 